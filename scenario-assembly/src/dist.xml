<assembly
    xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd">
    
    <id>dist</id>
    <formats>
        <format>tar.gz</format>
    </formats>
    <includeBaseDirectory>true</includeBaseDirectory>
    <files>
    	<file>
    		<source>${project.build.directory}/platform.dir/mct-platform-${mct.platform.version}/resources/properties/mysql.properties</source>
    		<outputDirectory>resources/properties</outputDirectory>
    		<destName>persistence.properties</destName>
    		<fileMode>0777</fileMode>
    	</file>    	  
    	<file>
	      <source>src/main/resources/properties/scenario.properties</source>
	      <outputDirectory>resources/properties</outputDirectory>
	      <filtered>true</filtered>
	      <fileMode>0777</fileMode>
	    </file>
    </files>
    <fileSets>
    	<fileSet>
    		<directory>${project.build.directory}/platform.dir/mct-platform-${mct.platform.version}</directory>
    		<outputDirectory></outputDirectory>
   			<includes>
   				<include>**/*</include>
   			</includes>        
            <excludes>
                <exclude>**/mct.properties</exclude>
                <exclude>**/derby.properties</exclude>
                <exclude>**/persistence.properties</exclude>
            </excludes>    
    		<fileMode>0777</fileMode>
    		<directoryMode>0777</directoryMode>
    	</fileSet>
    	<fileSet>
    		<directory>src/main/resources</directory>
    		<outputDirectory>resources</outputDirectory>
   			<includes>
   				<include>properties/mct.properties</include>   				
   			</includes>
    		<fileMode>0777</fileMode>
    		<directoryMode>0777</directoryMode>
    	</fileSet>
	</fileSets>
    <dependencySets>
        <dependencySet>
    		<outputDirectory>resources/plugins</outputDirectory>
    		<useProjectArtifact>false</useProjectArtifact>
    		<includes>
    			<include>gov.nasa.arc.mct:scenario</include>
    		</includes>
    		<useTransitiveDependencies>false</useTransitiveDependencies>
    		<fileMode>0777</fileMode>
    	</dependencySet>
    </dependencySets>
</assembly>
